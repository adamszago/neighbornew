(function(f){var e="deg",d,a,c,b;f.fn.rotate=function(g){d=f(this).css("transform")||"none";if(typeof g=="undefined"){if(d){a=d.match(/rotate\(([^)]+)\)/);if(a&&a[1]){return a[1]}}return 0}a=g.toString().match(/^(-?\d+(\.\d+)?)(.+)?$/);if(a){if(a[3]){e=a[3]}f(this).css("transform",d.replace(/none|rotate\([^)]*\)/,"")+"rotate("+a[1]+e+")")}};f.fn.scale=function(i,h,g){d=f(this).css("transform");if(typeof i=="undefined"){if(d){a=d.match(/scale\(([^)]+)\)/);if(a&&a[1]){return a[1]}}return 1}f(this).css("transform",d.replace(/none|scale\([^)]*\)/,"")+"scale("+i+")")};c=f.fx.prototype.cur;f.fx.prototype.cur=function(){if(this.prop=="rotate"){return parseFloat(f(this.elem).rotate())}else{if(this.prop=="scale"){return parseFloat(f(this.elem).scale())}}return c.apply(this,arguments)};f.fx.step.rotate=function(g){f(g.elem).rotate(g.now+e)};f.fx.step.scale=function(g){f(g.elem).scale(g.now)};b=f.fn.animate;f.fn.animate=function(g){if(typeof g.rotate!="undefined"){a=g.rotate.toString().match(/^(([+-]=)?(-?\d+(\.\d+)?))(.+)?$/);if(a&&a[5]){e=a[5]}g.rotate=a[1]}return b.apply(this,arguments)}})(jQuery);